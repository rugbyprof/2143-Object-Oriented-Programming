# Stage 5 — Practical Mini-Projects

## Learning goals

- Reinforce reading, writing, and traversing JSON.
- Understand JSON’s role as a data-storage format.
- Compare it with other formats you will see later (YAML, CSV, binary).

---

## 1️⃣ Mini-Project: Configuration File Loader

**Goal:** load user preferences (theme, sound, difficulty) from a JSON file.

```cpp
#include <iostream>
#include <fstream>
#include "json.hpp"
using json = nlohmann::json;

int main() {
    // create config
    json config = {
        {"theme", "dark"},
        {"volume", 0.8},
        {"difficulty", "normal"},
        {"autosave", true}
    };

    // write config to file
    std::ofstream("config.json") << config.dump(4);

    // load config
    std::ifstream in("config.json");
    json loaded;
    in >> loaded;

    std::cout << "Theme: " << loaded["theme"] << "\n";
    std::cout << "Volume: " << loaded["volume"] << "\n";
}
```

### Concepts reinforced

- File I/O
- Serialization and deserialization
- Accessing basic types (`string`, `number`, `bool`)

---

## 2️⃣ Mini-Project: In-Memory Database

**Goal:** manage an array of records (e.g., students, employees, or products).

```cpp
json students = {
    {"records", {
        {{"id", 1}, {"name", "Alice"}, {"grade", 91}},
        {{"id", 2}, {"name", "Bob"}, {"grade", 85}},
        {{"id", 3}, {"name", "Charlie"}, {"grade", 78}}
    }}
};

// add a new student
students["records"].push_back({{"id", 4}, {"name", "Dana"}, {"grade", 88}});

// print all
for (auto& s : students["records"])
    std::cout << s["id"] << " - " << s["name"] << ": " << s["grade"] << "\n";
```

### Extension idea

Let students:

- Compute the average grade.
- Add a `status` field based on grade (`"Pass"` or `"Fail"`).
- Save and reload from `students.json`.

---

## 3️⃣ Mini-Project: Game Entity Storage

**Goal:** represent a game character or item inventory.

```cpp
json entity = {
    {"id", 1},
    {"type", "Orc"},
    {"position", {{"x", 12}, {"y", 8}}},
    {"stats", {{"hp", 90}, {"damage", 15}}},
    {"inventory", {"club", "shield"}}
};

std::cout << entity.dump(4);
```

### Optional extensions

- Add or remove items from `inventory`.
- Create an array of multiple entities (e.g., monsters on a map).
- Write a loop to print each entity’s name and HP.

This ties neatly into later OOP labs (structs/classes for `Entity`, `Player`, etc.) where JSON acts as _persistent storage_.

---

## 4️⃣ Mini-Project: Course Catalog (ties to campus data)

**Goal:** represent a set of course offerings, using nested structures.

```cpp
json catalog = {
    {"courses", {
        {
            {"code", "CS2143"},
            {"title", "Object-Oriented Programming"},
            {"credits", 3},
            {"instructor", {{"name", "Dr. Griffin"}, {"email", "tgriffin@msutexas.edu"}}},
            {"schedule", {{"days", "MWF"}, {"time", "10:00-10:50"}}}
        },
        {
            {"code", "CS3603"},
            {"title", "Programming for Data Science"},
            {"credits", 3},
            {"instructor", {{"name", "Dr. Stringfellow"}, {"email", "cstringfellow@msutexas.edu"}}},
            {"schedule", {{"days", "TR"}, {"time", "09:30-10:45"}}}
        }
    }}
};

for (auto& c : catalog["courses"])
    std::cout << c["code"] << " - " << c["title"] << "\n";
```

Students immediately see how this could evolve into a database or web API feed.

---

## 5️⃣ Mini-Project: Format Comparison

### JSON vs YAML vs CSV vs Binary

| Format                | Human-Readable | Hierarchical | Comments | Binary | Typical Use           |
| --------------------- | -------------- | ------------ | -------- | ------ | --------------------- |
| **JSON**              | ✅ Yes         | ✅ Yes       | ❌ No    | ❌ No  | Web, configs, storage |
| **YAML**              | ✅ Yes         | ✅ Yes       | ✅ Yes   | ❌ No  | Config files          |
| **CSV**               | ✅ Yes         | ❌ No        | ❌ No    | ❌ No  | Flat tabular data     |
| **Binary / Protobuf** | ❌ No          | ✅ Yes       | ❌ No    | ✅ Yes | High-performance apps |

Discuss trade-offs:

- JSON is **ubiquitous** and simple.
- YAML is easier for humans, riskier for parsers.
- Binary formats are compact and fast but not readable.

---

## 6️⃣ Wrap-Up

By this point, you should be able to:

- **Create**, **read**, and **modify** structured JSON data.
- **Persist** it to files and reload it safely.
- Recognize how JSON mirrors C++ structures (objects and arrays)
- Appreciate its limitations (text size, no type enforcement).

---

|                   |     |
| :---------------: | :-: |
| [⏮️ Prev](004.md) |  -  |
